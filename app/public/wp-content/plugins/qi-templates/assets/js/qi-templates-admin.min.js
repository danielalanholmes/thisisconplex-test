!function(e){"use strict";"object"!=typeof qiTemplatesAdmin&&(window.qiTemplatesAdmin={}),qiTemplatesAdmin.scroll=0,qiTemplatesAdmin.windowWidth=e(window).width(),qiTemplatesAdmin.windowHeight=e(window).height(),e(document).ready(function(){t.init()}),e(window).scroll(function(){qiTemplatesAdmin.scroll=e(window).scrollTop()}),e(window).resize(function(){qiTemplatesAdmin.windowWidth=e(window).width(),qiTemplatesAdmin.windowHeight=e(window).height(),600<qiTemplatesAdmin.windowWidth&&void 0!==qiTemplatesAdmin.qodefAdminOptionsPanel.adminPage&&qiTemplatesAdmin.qodefAdminOptionsPanel.adminPage.length&&qiTemplatesAdmin.qodefAdminOptionsPanel.adminHeader.length&&qiTemplatesAdmin.qodefAdminOptionsPanel.adminHeader.width(qiTemplatesAdmin.qodefAdminOptionsPanel.adminPage.width())});let t={init:function(){this.adminPage=e(".qodef-admin-page"),this.adminHeaderPosition()},adminHeaderPosition:function(){this.adminPage.length&&600<qiTemplatesAdmin.windowWidth&&(this.adminBarHeight=e("#wpadminbar").height(),this.adminHeader=e(".qodef-admin-header"),this.adminHeaderHeight=this.adminHeader.outerHeight(!0),this.adminHeaderTopPosition=this.adminHeader.offset().top-parseInt(this.adminBarHeight),this.adminContent=e(".qodef-admin-content"),this.adminHeader.width(this.adminPage.width()),e(window).on("scroll load",function(){qiTemplatesAdmin.scroll>=t.adminHeaderTopPosition?(t.adminHeader.addClass("qodef-fixed").css("top",parseInt(t.adminBarHeight)),t.adminContent.css("marginTop",t.adminHeaderHeight)):(t.adminHeader.removeClass("qodef-fixed").css("top",0),t.adminContent.css("marginTop",0))}))}};qiTemplatesAdmin.qodefAdminOptionsPanel=t}(jQuery),function(s){"use strict";"object"!=typeof qiTemplatesAdmin&&(window.qiTemplatesAdmin={}),s(document).ready(function(){e.init()});let e={init:function(){this.formHolder=s(".qodef-admin-registration-page"),this.formHolder.length&&this.saveForm(this.formHolder)},saveForm:function(o){this.registrationForm=o.find("#qi_templates_registration_framework_ajax_form");let n=s(".qodef-waiting-message"),a=s(".qodef-registration-message");this.registrationForm.length&&this.registrationForm.on("submit",function(e){e.preventDefault(),e.stopPropagation(),n.addClass("qodef-show-loader"),o.addClass("qodef-btn-disable"),a.text("");let t=s(this),i={action:s(this).data("action-name")};s.ajax({type:"POST",url:ajaxurl,cache:!1,data:s.param(i,!0)+"&"+t.serialize(),success:function(e){e=JSON.parse(e);n.removeClass("qodef-show-loader"),"success"===e.status?location.reload():a.text(e.message)}})})}};window.qiTemplatesAdmin.qodefRegistration=e}(jQuery),function(r){"use strict";"object"!=typeof qiTemplatesAdmin&&(window.qiTemplatesAdmin={}),r(document).ready(function(){m.init(),s.init(),c.init(),a.init(),a.closeDemo(),d.init(),n.init(),l.init(),e.init()}),r(window).scroll(function(){qiTemplatesAdmin.scroll=r(window).scrollTop(),s.init()});let m={qsRegex:"",init:function(){let a=r(".qodef-import-masonry-list");a.length&&a.each(function(){let e=r(this),t=e.find(".qodef-grid-inner"),i=parseInt(t.css("column-gap")),o,n=t.isotope({layoutMode:"packery",itemSelector:".qodef-masonry-item",percentPosition:!0,packery:{columnWidth:".qodef-import-masonry-grid-sizer",gutter:i}});a.addClass("qodef--initialized"),n.on("layoutComplete",function(){s.init()}),m.updateCountFiltered(e.find(".qodef-grid-inner")),o=r(".qodef-filter-holder-top .quicksearch"),m.initFilter(e,o),m.searchItems(e,o)})},initFilter:function(s,d){r(".qodef-filter-item").click(function(e,t){let i=r(this),o,n,a="";d.val(""),r(".qodef-im-no-results").remove(),i.parent().find(".qodef-filter-item").removeClass("qodef--active"),t||i.addClass("qodef--active"),r("html, body").animate({scrollTop:0},400,"swing").promise().then(function(){let e=s.find(".qodef-grid-inner");o=r(".qodef-filter-item"),(n=o.filter(".qodef--active")).each(function(){a+=r(this).data("filter")}),e.isotope({filter:a}).promise().then(function(){setTimeout(function(){r(document.body).trigger("qi-templates-import-list-filtered")},750)}),m.updateCountFiltered(s.find(".qodef-grid-inner"))})})},updateCountFiltered:function(e){let t=e.data("isotope").filteredItems.length,i=t<=1?"demo.":"demos.";r(".qodef-im-no-results").remove(),0===t&&r('<p class="qodef-im-no-results">Sorry, no results found matching querying parameters.</p>').insertBefore(e),e.parent().find(".qodef-filter-number-of-results").html("Choose from <span>"+t+" "+i+"</span>")},searchItems:function(e,t){let i=qiTemplatesAdmin.vars.searchPredictions.demo_names,o=qiTemplatesAdmin.vars.searchPredictions.pattern_names,n=qiTemplatesAdmin.vars.searchPredictions.template_names,a=qiTemplatesAdmin.vars.searchPredictions.wireframe_names,s=r(".qodef-im-import-type-filter"),d=s.filter(".qodef--active").data("import-type"),l;switch(d){case"patterns":l=o;break;case"templates":l=n;break;case"wireframes":l=a;break;default:l=i}t.easyAutocomplete({data:l,list:{maxNumberOfElements:10,match:{enabled:!0},onChooseEvent:function(){m.searchFilter(e,t)},onShowListEvent:function(){t.addClass("qodef-show-list")},onHideListEvent:function(){t.removeClass("qodef-show-list")}}}),t.keyup(this.debounce(function(){m.searchFilter(e,t)},500))},debounce:function(e,t){let i;return function(){i&&clearTimeout(i),i=setTimeout(function(){e(),i=null},t||100)}},searchFilter:function(e,t){let i=t.val();i=i.replace("+","\\+"),e.find(".qodef-filter-item").removeClass("qodef--active"),m.qsRegex=new RegExp(i,"gi"),e.find(".qodef-grid-inner").isotope({filter:function(){return!m.qsRegex||r(this).text().match(m.qsRegex)}}),m.updateCountFiltered(e.find(".qodef-grid-inner"))}},s=(window.qiTemplatesAdmin.qodefDemos=m,{init:function(){r(".qodef-lazy-load img:not(.qodef-lazy-loading)").each(function(e,t){var i=(t=r(t))[0].getBoundingClientRect(),o=qiTemplatesAdmin.windowHeight||document.documentElement.clientHeight,n=qiTemplatesAdmin.windowWidth||document.documentElement.clientWidth,a=t.outerHeight(),s=t.outerWidth();(0!=i.top||0!=i.right||0!=i.bottom||0!=i.left)&&(0<=i.top||0<=i.top+a)&&0<=i.bottom&&i.bottom-a-o<=500&&(0<=i.left||0<=i.left+s)&&0<=i.right&&i.right-s-n<=0&&(t.addClass("qodef-lazy-loading"),a=new Image,r(a).on("load",function(){let e=r(this);t.attr("src",e.attr("src")),t.removeAttr("data-image").removeData("image").removeClass("qodef-lazy-loading"),t.parent().removeClass("qodef-lazy-load")}).attr("src",t.data("image")))})}}),n=(window.qiTemplatesAdmin.qodefLazyImages=s,{init:function(){var e;"undefined"!=typeof Swiper&&(e=new Swiper(".qodef-swiper-container",{slidesPerView:1,effect:"fade",fadeEffect:{crossFade:!0},loop:!0,autoHeight:!0,navigation:{nextEl:".swiper-button-next",prevEl:".swiper-button-prev"},on:{slideChange:function(){void 0!==e&&r(".qodef-swiper-container .swiper-counter span").html(e.realIndex+1+"/"+(e.slides.length-2))}}}))}}),a=(window.qiTemplatesAdmin.qodefSwiper=n,{mainURL:"",singleHolder:"",contentHolder:"",init:function(){let e=r(".qodef-import-masonry-list"),t=e.find(".qodef-import-demo-link"),o=e.find("#qi_templates_demo_import_nonce");a.mainURL=a.clearURL(window.location.href),a.singleHolder=r(".qodef-demo-single"),a.contentHolder=r(".qodef-admin-demos-content "),t.on("click",function(e){e.preventDefault();let t=r(this),i;void 0!==t.data("demo-id")&&""!==t.data("demo-id")&&(i=t.data("demo-id")),r.ajax({type:"POST",url:ajaxurl,data:{action:"qi_templates_open_demo_single",demoId:i,nonce:o.val()},success:function(e){e=JSON.parse(e),a.openDemo(e.data,i),e=r(".qodef-admin-header.qodef-fixed").length?r(".qodef-admin-header.qodef-fixed").outerHeight():0;r(window).scrollTop(r(".qodef-admin-page").offset().top-e-r("#wpadminbar").outerHeight()),a.closeDemo(),c.init(),d.init(),n.init(),l.init()},error:function(e){}})})},changeURL:function(e){history.pushState("","",e)},addParamsToURL:function(e){e={"demo-id":e},e=a.mainURL+(-1===window.location.href.indexOf("?")?"?":"&")+decodeURIComponent(r.param(e));a.changeURL(e)},removeParamsFromURL:function(){var e=window.location.href,e=a.clearURL(e);a.changeURL(e)},clearURL:function(e){let o=e.split("?");if(2<=o.length){let t=encodeURIComponent("demo-id")+"=",i=o[1].split(/[&;]/g);for(let e=i.length;0<e--;)-1!==i[e].lastIndexOf(t,0)&&i.splice(e,1);return o[0]+(0<i.length?"?"+i.join("&"):"")}return e},openDemo:function(e,t){a.contentHolder.addClass("qodef-demo-import-single-opened"),a.singleHolder.html(e),a.addParamsToURL(t)},closeDemo:function(e){let t=r(".qodef-return-to-demo-list");t.length&&t.on("click",function(e){e.preventDefault(),a.contentHolder.removeClass("qodef-demo-import-single-opened"),a.singleHolder.html(),a.removeParamsFromURL(),m.init()})}}),d=(window.qiTemplatesAdmin.qodefInitSingleDemo=a,{init:function(){r(".qodef-required-plugins-holder").on("click",".qodef-install-plugin-link",function(e){e.preventDefault();let t=r(this),i=t.parents(".qodef-required-plugins-holder").find(".qodef-install-plugin-link"),o="install",n="",a="",s=r("#qi_templates_install_plugins_nonce");return i.addClass("qodef-disabled"),t.removeClass("qodef-disabled"),t.next(".qodef-plugin-installing-spinner").addClass("active"),void 0!==t.data("plugin-action")&&""!==t.data("plugin-action")&&(o=t.data("plugin-action")),void 0!==t.data("plugin-action-label")&&""!==t.data("plugin-action-label")&&(n=t.data("plugin-action-label")),void 0!==t.data("plugin-slug")&&""!==t.data("plugin-slug")&&(a=t.data("plugin-slug")),t.text(n),r.ajax({type:"POST",url:ajaxurl,data:{action:"qi_templates_install_plugin",pluginAction:o,pluginSlug:a,nonce:s.val()},success:function(e){e=JSON.parse(e);"install"===o?"success"===e.status&&(t.next(".qodef-plugin-installing-spinner").removeClass("active"),t.text(e.message),t.data("plugin-action","activate"),t.data("plugin-action-label",e.data.action_label)):"success"===e.status&&(t.next(".qodef-plugin-installing-spinner").removeClass("active"),t.addClass("qodef-disabled"),t.text(e.message),t.attr("data-plugin-action","activated")),i.removeClass("qodef-disabled"),l.init()},error:function(){}}),!1})}}),l=(window.qiTemplatesAdmin.qodefInstallPlugin=d,{init:function(){let e=r("#qodef-import-demo-data"),t=r(".qodef-essential-plugin"),i=!0;t.length&&t.each(function(){let e=r(this),t=e.find(".qodef-install-plugin-link");"activated"!==t.attr("data-plugin-action")&&(i=!1)}),i&&(e.removeClass("qodef-disabled"),r(document.body).trigger("qi-templates-import-all-essential-plugins-activated"))}}),c=(window.qiTemplatesAdmin.qodefEnableImportSubmitButton=l,{importDemo:"",importAction:"complete",importImages:0,attachmentBlocks:0,attachmentCounter:0,totalPercent:0,numberOfAdditionalFiles:2,numberOfRequests:1,nextStep:"",stepPercent:0,init:function(){c.holder=r(".qodef-import-form"),c.holder.length&&c.holder.each(function(){let e=r("#qodef-import-demo-data"),t=r(".qodef-import-form .qodef-import-demo"),i=c.holder.data("confirm-message");e.on("click",function(e){e.preventDefault(),c.reset(),c.importImages=r(".qodef-import-attachments").is(":checked")?1:0,c.importDemo=t.val(),confirm(i)&&(r(".qodef-form-section-progress").show(),r(this).addClass("qodef-import-demo-data-disabled"),r(this).attr("disabled",!0),c.initImportType())})})},initImportType:function(){c.nextStep="terms",c.importAll()},importAll:function(){switch(c.nextStep){case"options":c.importOptions();break;case"settings-pages":c.importSettingsPages();break;default:c.importContent()}},countStep:function(){c.stepPercent=100/c.numberOfRequests},setNumberOfRequests:function(){c.numberOfRequests+=1+c.attachmentBlocks,"complete"===c.importAction&&(c.numberOfRequests+=c.holder.data("other-files")),c.countStep()},importOptions:function(){var e={action:"options",demo:c.importDemo};c.importAjax(e)},importSettingsPages:function(){var e={action:"settings-page",demo:c.importDemo};c.importAjax(e)},importContent:function(){"terms"===c.nextStep&&c.importTerms(),"attachments"===c.nextStep&&c.importAttachments(),"posts"===c.nextStep&&c.importPosts()},importTerms:function(){c.importAjax({action:"content",contentType:"terms"})},importPosts:function(){c.importAjax({action:"content",contentType:"posts"})},importAttachments:function(){for(let e=1;e<=c.attachmentBlocks;e++){var t={action:"content",contentType:"attachments",attachmentNumber:e,images:c.importImages};c.importAjax(t)}},importAjax:function(t){var e={demo:c.importDemo,nonce:r("#qi_templates_import_nonce").val()};r.extend(e,t),r.ajax({type:"POST",url:ajaxurl,data:{action:"qi_templates_import_action",options:e},success:function(e){e=JSON.parse(e);c.ajaxSuccess(e,t)},error:function(e){e=JSON.parse(e);c.ajaxError(e,t)}})},importProgress:function(){c.totalPercent+=c.stepPercent,100<c.totalPercent&&(c.totalPercent=100),r("#qodef-progress-bar").val(Math.round(c.totalPercent)),r(".qodef-progress-percent").html(Math.round(c.totalPercent)+"%"),100===Math.round(c.totalPercent)&&(r("#qodef-import-demo-data").remove(".qodef-import-demo-data-disabled"),r(".qodef-import-is-completed").show())},ajaxSuccess:function(e,t){if(void 0!==e.status&&"success"==e.status){if("content"===t.action)switch(t.contentType){case"terms":c.proccedTermsResponse(e);break;case"attachments":c.proccedAttachmentsResponse(e);break;case"posts":c.proccedPostsResponse(e)}else if("complete"===c.importAction)switch(t.action){case"options":c.nextStep="settings-pages",c.importAll();break;case"settings-pages":c.nextStep=""}c.importProgress()}else c.holder.find("#qodef-import-demo-data").remove(".qodef-import-demo-data-disabled"),c.holder.find(".qodef-import-went-wrong").show()},ajaxError:function(e,t){console.log("error"),console.log(e)},proccedTermsResponse:function(e){void 0!==e.data.number_of_blocks&&(c.attachmentBlocks=e.data.number_of_blocks,c.nextStep="attachments",c.setNumberOfRequests()),c.importContent()},proccedAttachmentsResponse:function(e){void 0!==e.data.attachment_block&&c.attachmentCounter++,c.attachmentCounter===c.attachmentBlocks&&(c.nextStep="posts",c.importContent())},proccedPostsResponse:function(e){"complete"===c.importAction&&(c.nextStep="options",c.importAll())},reset:function(){c.totalPercent=0,r("#qodef-progress-bar").val(0)}}),e=(window.qiTemplatesAdmin.qodefImport=c,{init:function(){e.holder=r(".qodef-import-demos"),e.holder.length&&e.holder.each(function(){let e=r(this),t=e.find(".qodef-import-top-reload-button"),i=e.find("#qi_templates_reload_demo_import"),o=e.find(".qodef-import-masonry-list-holder");t.length&&i.length&&t.on("click",function(e){e.preventDefault(),r.ajax({type:"POST",url:ajaxurl,data:{action:"qi_templates_reload_demo_import",nonce:i.val()},success:function(e){e=JSON.parse(e);"success"===e.status&&(o.html(e.data),m.init(),s.init(),c.init(),a.init(),a.closeDemo())},error:function(e){}})})})}});window.qiTemplatesAdmin.qodefReloadDemos=e}(jQuery),function(r,m,o){"object"!=typeof qiTemplatesAdmin&&(m.qiTemplatesAdmin={}),r(document).ready(function(){c.init()});let c={shouldReloadPage:!1,init:function(){this.holder=r("#qi-templates-import-modal"),this.holder.length&&(c.initImportButton(),c.reloadImportData(),c.initListTabs())},initImportButton:function(){"object"==typeof o&&"object"==typeof o.data&&o.data.subscribe(function(){let a=r("#editor"),s=r("#qodef-import-modal-button-trigger");if(a.length&&s.length){let e=a.find(".edit-post-header-toolbar"),t=s.html(),i=r("#qi-templates-import-button-holder"),o=c.holder.find(".qi-templates-import-modal-inner"),n=c.holder.find(".qi-templates-import-modal-close");if(e.length&&!i.length)e.append(t);else if(i.length&&!i.hasClass("qi-templates-import-button-initialized")){let e=i.find("#qi-templates-import-button");e.length&&e.on("click",function(){c.openModal(c.holder),c.initializeImportList()}),c.holder.on("click",function(){c.closeModal(c.holder)}),n.on("click",function(){c.closeModal(c.holder)}),o.on("click",function(e){e.stopPropagation()}),i.addClass("qi-templates-import-button-initialized")}}})},reloadImportData:function(){let e=c.holder.find(".qi-templates-import-modal-reload");e.length&&e.on("click",function(e){e.preventDefault(),c.showLoadingSpinner(),c.resetImportListCategoryAndSearchFilters();let t=r(".qodef-im-import-type-filter"),i=t.filter(".qodef--active"),o="patterns",n=c.holder.find("#qi_templates_reload_import_data_nonce"),a={action:"qi_templates_action_reload_import_data",nonce:n.val()};i.length&&(o=i.data("import-type")),r.ajax({type:"POST",url:ajaxurl,cache:!1,data:a,success:function(e){e=r.parseJSON(e);"success"===e.status&&(c.initTabFilterList(o),c.initImportItem()),"fail"===e.status&&(c.hideLoadingSpinner(),alert(e.message))}})})},initListTabs:function(){let t=c.holder.find(".qi-templates-import-modal-content-list-inner"),i=c.holder.find(".qi-templates-import-modal-demos-import"),o=c.holder.find(".qodef-im-import-type-filter"),n;o.length&&o.on("click",function(e){e.preventDefault(),r(this).hasClass("qodef--active")||(o.filter(".qodef--active").removeClass("qodef--active"),r(this).addClass("qodef--active"),n=r(this).data("import-type"),c.resetImportListCategoryAndSearchFilters(),"demos"!==r(this).data("import-type")?(t.fadeIn("fast"),i.fadeOut("fast"),c.initTabFilterList(n)):(c.showLoadingSpinner(),t.fadeOut("fast"),i.fadeIn("fast",function(){c.hideLoadingSpinner()})))})},initializeImportList:function(){let t=c.holder.find(".qi-templates-import-modal-content-list-inner"),e=c.holder.find("#qi_templates_list_nonce"),i={action:"qi_templates_action_import_list",type:"initialize",nonce:e.val()};c.holder.hasClass("qodef-import-list-initialized")||(c.showLoadingSpinner(),r.ajax({type:"POST",url:ajaxurl,cache:!1,data:i,success:function(e){e=r.parseJSON(e);"success"===e.status&&(t.html(e.data),c.adjustLazyImages(),setTimeout(function(){m.qiTemplatesAdmin.qodefDemos.init(),c.templateScrollingAnimation(c.holder),c.hideLoadingSpinner(),c.adjustLazyImages()},500),c.initImportItem(),c.holder.addClass("qodef-import-list-initialized")),"fail"===e.status&&(c.hideLoadingSpinner(),alert(e.message))}}))},initTabFilterList:function(e){let t=c.holder.find(".qi-templates-import-modal-content-list-holder"),i=t.find(".qi-templates-import-modal-content-list-inner"),o=c.holder.find("#qi_templates_list_nonce"),n={action:"qi_templates_action_import_list",type:"filter",import_type:e,nonce:o.val()};c.showLoadingSpinner(),r.ajax({type:"POST",url:ajaxurl,cache:!1,data:n,success:function(e){e=r.parseJSON(e);"success"===e.status&&(i.html(e.data),c.adjustLazyImages(),setTimeout(function(){m.qiTemplatesAdmin.qodefDemos.init(),c.templateScrollingAnimation(c.holder),c.hideLoadingSpinner(),c.adjustLazyImages()},500),c.initImportItem()),"fail"===e.status&&(c.hideLoadingSpinner(),alert(e.message))}})},initImportItem:function(){let e=c.holder.find(".qi-templates-import-item-button");e.length&&e.each(function(){let e=r(this);e.on("click",function(e){e.preventDefault();var e=r(this).data("import-type"),t=r(this).data("import-item-id");c.showLoadingSpinner(),c.importItem(e,t)})})},importItem:function(n,a){let s=c.holder.find(".qi-templates-import-modal-notice-holder"),d=s.find(".qi-templates-import-modal-notice-content"),l=s.find(".qi-templates-import-modal-notice-additional-info > p"),e=c.holder.find("#qi_templates_item_nonce"),t={action:"qi_templates_action_import_item",import_type:n,import_item_id:a,nonce:e.val(),post_type:"post",post_id:""},i=new URLSearchParams(m.location.search);i.has("post_type")&&(t.post_type=i.get("post_type")),i.has("post")&&(t.post_id=i.get("post")),r.ajax({type:"POST",url:ajaxurl,cache:!1,data:t,success:function(e){var t,i,o,e=r.parseJSON(e);"success"===e.status&&(t=(o=e.data).content||"",o=o.template||"",i="patterns"===n||"wireframes"===n,"string"==typeof t&&c.insertPostContentInEditor(t,i),c.setPageTemplate(o),c.hideLoadingSpinner(),c.closeModal(c.holder),c.shouldReloadPage&&c.updateAndReloadPage()),"warning"===e.status&&(i=(t=e.data).content,o=t.additional_info,s.length&&d.length&&l.length&&(d.html(i),l.html(o),c.openModal(s),c.closeNoticeFunctionality(s))),"install-plugins"===e.status&&(i=(t=e.data).content,o=t.additional_info,c.shouldReloadPage=!0,s.length&&d.length&&l.length&&(d.html(i),l.html(o),c.initPluginsNotice(s,n,a))),"fail"===e.status&&(c.hideLoadingSpinner(),alert(e.message))}})},initPluginsNotice:function(e,t,i){c.openModal(e),m.qiTemplatesAdmin.qodefInstallPlugin.init(),c.closeNoticeFunctionality(e),r(document).on("qi-templates-import-all-essential-plugins-activated",function(){c.importItem(t,i),c.closeModal(e)})},adjustLazyImages:function(){m.qiTemplatesAdmin.qodefLazyImages.init();var e=c.holder.find(".qi-templates-import-modal-inner");e.length&&e.on("scroll",function(){c.triggerLazyLoadAndMasonryLayout()}),r(document).on("qi-templates-import-list-filtered",function(){c.triggerLazyLoadAndMasonryLayout()})},triggerLazyLoadAndMasonryLayout:function(){let e=c.holder.find(".qodef-grid-inner");m.qiTemplatesAdmin.qodefLazyImages.init(),e.length&&"function"==typeof e.isotope&&e.isotope()},templateScrollingAnimation:function(e){function t(e){var t=e.find("article.qi-templates-import-item-templates .qi-templates-import-item-image"),i=e.find("article.qi-templates-import-item-templates .qi-templates-import-item-image > img");t.on("mouseenter",function(){var e=r(this).find(".qi-templates-import-item-image-media img"),t=c.sizing(e,i);e.css({"transition-property":"transform","transition-duration":t.timing+"s",transform:"translate3d(0px, -"+t.delta+"px, 0px)"})}),t.on("mouseleave",function(){var e=r(this).find(".qi-templates-import-item-image-media img"),t=c.sizing(e,i);t.scrollable&&e.css({"transition-property":"transform","transition-duration":Math.min(t.timing/3,3)+"s",transform:"translate3d(0px, 0px, 0px)"})})}t(e),r(m).resize(function(){t(e)})},sizing:function(e,t){var t=t.height(),e=e.height(),i=!1;return{delta:Math.round(e-t),timing:1.7*Math.round(e/t),scrollable:i=t<e?!0:i}},openModal:function(e){e.hasClass("qodef--open")||e.addClass("qodef--open")},closeModal:function(e){e.hasClass("qodef--open")&&e.removeClass("qodef--open")},showLoadingSpinner:function(){let e=c.holder.find(".qi-templates-import-modal-spinner-holder");c.holder.addClass("qodef--loading"),e.addClass("qodef--visible")},hideLoadingSpinner:function(){let e=c.holder.find(".qi-templates-import-modal-spinner-holder");c.holder.hasClass("qodef--loading")&&c.holder.removeClass("qodef--loading"),e.hasClass("qodef--visible")&&e.removeClass("qodef--visible")},resetImportListCategoryAndSearchFilters:function(){let e=c.holder.find(".qodef-im-search-input"),t=c.holder.find(".qodef-filter-item");e.length&&e.val(""),t.length&&(t.filter(".qodef--active").removeClass("qodef--active"),t.first().addClass("qodef--active"))},insertPostContentInEditor:function(e,t=!0){var i=o.data.select("core/editor").getEditedPostAttribute("content"),t=t?i+e:e;t&&(o.data.dispatch("core/block-editor").resetBlocks(o.blocks.parse(t)),c.closeModal(c.holder))},setPageTemplate:function(e){e=e||"wp-custom-template-qi-blocks-full-width";o.data.dispatch("core/editor").editPost({template:e})},closeNoticeFunctionality:function(t){let e=t.find(".qi-templates-import-modal-notice-close");e.length&&e.on("click",function(e){e.preventDefault(),c.closeModal(t),c.hideLoadingSpinner(),r(document).off("qi-templates-import-all-essential-plugins-activated")})},updateAndReloadPage:function(){o.data.select("core/editor").isEditedPostSaveable()&&o.data.dispatch("core/editor").savePost().then(function(){location.reload()})}};m.qiTemplatesAdmin.qodefImportPanel=c}(jQuery,window,wp);